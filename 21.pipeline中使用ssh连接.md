### pipeline中使用ssh连接其他主机，进行执行操作
#### 1、安装2款插件，以后构建触发使用ssh，或者pipeline中使用ssh
##### 网页版构建触发器
```shell script
插件名称:ssh
插件描述:This plugin executes shell commands remotely using SSH protocol.
```
##### pipeline中的插件，在pipeline中使用ssh,连接其他主机
```shell script
插件名称:SSH Pipeline Steps
```
#### 2、在pipeline中定义测试的文稿
##### 参考文档：https://github.com/jenkinsci/ssh-steps-plugin
##### ssh远程连接主机172.16.120.44	
```shell script
pipeline{
    agent any
    stages {
        stage ('test') {
            steps {
                script {
                    def remote = [:]
                    remote.name = 'test'
                    remote.host ='172.16.120.11'
                    remote.user = 'root'
                    remote.password ='123'
                    remote.allowAnyHosts= true
                    writeFile file:'test.sh', text: 'cd /data/book_manager \n ls -la'
                    sshScript remote: remote,script: "test.sh"
                }
            }
        }
    }
}
```
```shell script
Started by user admin
Running in Durability level: MAX_SURVIVABILITY
[Pipeline] Start of Pipeline (hide)
[Pipeline] node
Running on Jenkins in /var/jenkins_home/workspace/test
[Pipeline] {
[Pipeline] stage
[Pipeline] { (test)
[Pipeline] script
[Pipeline] {
[Pipeline] writeFile
[Pipeline] sshScript
Executing script on test[172.16.120.11]: /var/jenkins_home/workspace/test/test.sh
总用量 24
drwxr-xr-x. 10 root root 270 7月  14 12:01 .
drwxr-xr-x.  5 root root  63 7月  13 19:49 ..
drwxr-xr-x.  4 root root 163 7月  13 19:49 app001
-rw-r--r--.  1 root root 300 7月  13 19:49 arango.py
drwxr-xr-x.  3 root root 108 7月  13 19:49 BookManager
-rw-r--r--.  1 root root 227 7月  14 12:01 docker-compose.yaml
-rw-r--r--.  1 root root 472 7月  13 19:49 Dockerfile
drwxr-xr-x.  8 root root 198 7月  13 19:49 .git
-rw-r--r--.  1 root root  30 7月  13 19:49 .gitignore
drwxr-xr-x.  3 root root 146 7月  13 19:49 .idea
-rw-r--r--.  1 root root   0 7月  13 19:49 Jenkinsfile
-rw-r--r--.  1 root root 667 7月  13 19:49 manage.py
drwxr-xr-x.  5 root root 116 7月  13 19:49 mycelery
drwxr-xr-x.  2 root root  35 7月  13 19:49 __pycache__
-rw-r--r--.  1 root root 556 7月  13 19:49 requirements.txt
drwxr-xr-x.  3 root root  17 7月  13 19:49 static
drwxr-xr-x.  2 root root 244 7月  13 19:49 templates
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS
``` 
         
      
