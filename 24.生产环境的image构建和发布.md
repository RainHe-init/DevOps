### 生产环境下，不能把docker的WORKDIR和主机的目录进行连通挂载，因为代码变动意味着有业务挂了的风险。
#### 1、Dockerfile的修改
##### 在master主机操作，以打包好的BookManager为例，从v1.0升级v2.0
```dockerfile
FROM harbor.liuxiang.com/bookmanager/book_manager:v1.0

#语言编码设置
RUN localedef -c -f UTF-8 -i zh_CN zh_CN.utf8
ENV LC_ALL zh_CN.UTF-8

#设置工作目录
WORKDIR /code

#拷贝安装文件到/code目录下
COPY requirements.txt /code

#安装虚拟环境
RUN pip3 install --upgrade pip \
    && pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/ \
    && pip3 install -r requirements.txt

#拷贝当前目录下的所有开发好的文件到工作目录
COPY . /code/
```