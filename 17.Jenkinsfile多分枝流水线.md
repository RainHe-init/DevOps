### Jenkins多分枝流水线
#### 1、先使用docker-compose搭建好Jenkins环境
```shell script
步骤请参考:05,13,14,15这几个文档
```
#### 2、在Jenkins中安装GitLab Branch Sources插件
```shell script
GitLab Branch Source
    Provides branch source and folder organisation functionality for GitLab Repositories in Jenkins
```
#### 3、在gitlab中创建单独的"访问令牌"
```shell script
1 进入liuxiang(q498946975@163.com)这个用户,密码:ZH...88
2 在右上角点用户头像,然后点击"设置"
3 点击左边的"访问令牌"
4 右边名称: "jenkins-gitlab-branch-sources"
5 范围: 选择"api"
6 点击下面的"Create personal access token"
7 最上面复制已经创建好的令牌信息:"4-E4hUixAP5s7KyQBAzT",该信息只显示一次,建议妥善保存
```
#### 4、将令牌信息保存到Jenkins的凭据
```shell script
1 点击Manage Jenkins里面的Manage Credentials
2 点击"全局"下面的"添加凭据"
3 类型选择:"GitLab个人令牌"
4 范围:"全局"
5 API token: "4-E4hUixAP5s7KyQBAzT"
6 ID: "jenkins-gitlab-branch-sources"
7 描述: "gitlab的liuxiang用户,连接jenkins-gitlab-branch-sources的插件"
```
#### 5、在Jenkins中设置"GitLab服务列表"
```shell script
1 点击Manage Jenkins里面的"系统配置"
2 找到"GitLab 服务列表"
3 显示名称:"gitlab-server"
4 服务 URL: "http://gitlab.liuxiang.com:13800/"
5 选择凭据:"jenkins-gitlab-branch-sources"
6 "管理 Web Hook"和"管理系统 Hook"这2个选择打"✅"

```
#### 6、在Jenkins创建多分枝流水线多项目
```shell script
1 创建新任务名称"BookManager_branch",选择"多分支流水线"
2 分支源-->服务器:"gitlab-server(http://gitlab.liuxiang.com:13800/)"
3 分支源-->代码检查凭据:"q498946975@163.com/****(jenkins通过账号密码连接gitlab)"
4 分支源-->所有者:"liuxiang"(必须是gitlab用户名)
5 分支源-->项目列表:(自动刷新出来)
```
